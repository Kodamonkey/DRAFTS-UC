# ==============================================================================
# DATA AND FILE PATHS
# ==============================================================================
data:
  # Directory containing input files (.fits, .fil)
  input_dir: "./Data/raw/"

  # Directory where results will be saved (CSVs, plots, logs)
  results_dir: "./Results/"

  # List of files to process (search patterns)
  # Can specify full names or partial patterns
  # Pipeline will search for files matching any of these patterns
  targets:
    - "2017-04-03-08_16_13_142_0006_t10.882_t25.829"
    - "2017-04-03-08_55_22_153_0006_t23.444"
    - "2017-04-03-08-16-13_142_0003_t39.977"
    - "2017-04-03-12_56_05_230_0002_t2.3_t17.395"
    - "2017-04-03-12_56_05_230_0003_t36.548"
    - "2017-04-03-13_38_31_242_0005_t44.169"

# ==============================================================================
# TEMPORAL ANALYSIS
# ==============================================================================
temporal:
  # Duration of each temporal segment in milliseconds
  # Common values: 150-500 ms
  slice_duration_ms: 500.0

# ==============================================================================
# DOWNSAMPLING
# ==============================================================================
downsampling:
  # Frequency reduction factor (1 = no reduction)
  # Values: 1, 2, 4, 8
  frequency_rate: 1

  # Time reduction factor (1 = no reduction)
  # Common values: 4, 8, 16, 32
  time_rate: 64

# ==============================================================================
# DISPERSION MEASURE (DM)
# ==============================================================================
dispersion:
  # DM search range in pc cm⁻³
  # Adjust according to your source:
  # - Nearby pulsars: 0-100
  # - Extragalactic FRBs: 100-2000
  # - General/unknown: 0-1024
  dm_min: 0
  dm_max: 1024

# ==============================================================================
# DETECTION THRESHOLDS
# ==============================================================================
thresholds:
  # Minimum probability for valid detection (CenterNet)
  # Higher values = fewer detections but more confidence
  # - Conservative: 0.5-0.7
  # - Balanced: 0.3 (default)
  # - Sensitive: 0.1-0.2
  detection_probability: 0.3

  # Minimum probability to classify as burst (ResNet)
  # Higher values = more conservative classification
  # - Conservative: 0.7-0.9
  # - Balanced: 0.5 (default)
  # - Sensitive: 0.3-0.4
  classification_probability: 0.5

  # SNR threshold for highlighting in visualizations
  # Does not affect detection, only visualization
  # Only use in High-Frequency Pipeline
  # - Conservative: 5.0-10.0
  # - Balanced: 3.0-7.0
  # - Sensitive: 1.0-5.0
  snr_threshold: 5.0

# ==============================================================================
# MULTI-BAND ANALYSIS
# ==============================================================================
multiband:
  # Enable multi-band analysis (Full/Low/High)
  # Useful for:
  # - Detailed frequency characterization
  # - Identifying band-dependent RFI
  # - Scattering studies
  # Note: Increases processing time ~3xs
  enabled: false

# ==============================================================================
# HIGH-FREQUENCY PIPELINE
# ==============================================================================
high_frequency:
  # Automatically enable high-frequency pipeline
  # when central frequency exceeds threshold
  # Useful for: ALMA, mm-wave, observations >8 GHz
  auto_enable: true

  # Central frequency threshold in MHz
  # Default: 8000 MHz (8 GHz) for ALMA
  threshold_mhz: 8000.0

  # Enable Phase 2: Linear Polarization SNR validation
  #
  # Detection flow in High-Frequency Pipeline:
  #   Phase 1: Boxcar matching on Intensity → SNR peaks (ALWAYS active)
  #   Phase 2: Check if those SAME peaks also appear in Linear Polarization
  #   Phase 3: ResNet classification on Intensity patch
  #   Phase 4: ResNet classification on Linear patch
  #
  # This setting controls Phase 2:
  # - true  = Peaks must exceed SNR threshold in BOTH Intensity AND Linear
  #           (Dual-polarization validation, more conservative, filters RFI better)
  # - false = Skip Phase 2, use only Intensity peaks
  #           (Faster, less conservative, single-polarization detection)
  #
  # Note: Phase 3 and 4 (ResNet classification) always run if peaks are detected
  enable_linear_validation: false

# ==============================================================================
# POLARIZATION (PSRFITS)
# ==============================================================================
polarization:
  # Polarization mode for PSRFITS files with IQUV
  # Options:
  # - "intensity"  : Stokes I (total intensity) [DEFAULT]
  # - "linear"     : Linear polarization √(Q² + U²)
  # - "circular"   : Circular polarization |V|
  # - "pol0"       : First polarization
  # - "pol1"       : Second polarization
  # - "pol2"       : Third polarization
  # - "pol3"       : Fourth polarization
  mode: "intensity"

  # Default index when IQUV not available (e.g., AABB)
  # Values: 0-3
  default_index: 0

# ==============================================================================
# DEBUG AND LOGGING
# ==============================================================================
debug:
  # Show detailed frequency and file information
  # Useful for diagnosing frequency ordering issues
  show_frequency_info: false

  # Force plot generation even without candidates
  # Plot all slices of the chunk even if no candidates are detected
  # Useful for:
  # - Verifying data quality
  # - Debugging problematic files
  # - Visual inspection of data without signals
  force_plots: false

# ==============================================================================
# CANDIDATE FILTERING AND OUTPUT
# ==============================================================================
output:
  # Control which candidates to save to CSV
  #
  # For STANDARD PIPELINE (<8 GHz):
  #   true  = Save only candidates classified as BURST by ResNet
  #   false = Save all CenterNet detections (BURST and NON-BURST)
  #
  # For HIGH-FREQUENCY PIPELINE (≥8 GHz with multi-pol):
  #   true  = Save ONLY if ResNet classifies BURST in BOTH Intensity AND Linear
  #   false = Save if ResNet classifies BURST in Intensity (regardless of Linear result)
  #
  # Summary:
  #   true  = Strict mode (both polarizations must agree if available)
  #   false = Permissive mode (Intensity BURST is sufficient)
  #
  # Recommendation:
  #   - Use 'true' for production (highest confidence, dual validation)
  #   - Use 'false' for exploratory analysis
  save_only_burst: false
